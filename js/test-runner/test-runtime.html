<html>
<head>

<link rel="stylesheet" href="../../lib/jasmine/lib/jasmine-core/jasmine.css"></link>
<script src="../../lib/jasmine/lib/jasmine-core/jasmine.js"></script>
<script src="../../lib/jasmine/lib/jasmine-core/jasmine-html.js"></script>
<script src="../../lib/jasmine/lib/jasmine-core/boot.js"></script>

<script src="../namespace.js"></script>
<script src="../runtime.js"></script>
<script src="../runtime-cps.js"></script>
<script src="test-support.js"></script>

<script>
var testNum = testPrint('num.arr', (function(RUNTIME, NAMESPACE, $K) {
            try {
              
              var RESULT;
              (function() {
                var k = RUNTIME.makeFunction(function(RESULT) {
                    var namespace = RUNTIME.getField(RESULT, 'namespace');
                    var value = RUNTIME.getField(RESULT, 'value');
                    // TODO(joe): Relying on the representation here to get off
                    // the ground, via the pyretToJSDict endpoint.  Need to codify
                    // namespaces and their interaction with runtime precisely
                    var EXPORT_NAMESPACE = Namespace(RUNTIME.pyretToJSDict(namespace));
                    $K.success(RUNTIME.makeNormalResult(value, EXPORT_NAMESPACE));
                  });
                var f = RUNTIME.makeFunction(function(ERR) {
                    $K.failure(RUNTIME.makeFailResult(ERR));
                  });
                (function() { return RUNTIME.makeFunction(function($k439035) { return RUNTIME.makeFunction(function($k439035) { return RUNTIME.makeFunction(function($k439035) { return $k439035.app(RUNTIME.makeObject({ "value": RUNTIME.makeNumber(1729),"namespace": RUNTIME.makeObject({  }) })) }).app($k439035) }).app($k439035) })})().app(k);
              })();
            } catch(e) {
              $K.failure(RUNTIME.makeFailResult(e));
            }
          }), {"expected-err":"","expected-out":"1729"}, true);

describe("num.arr", function() {
  it("should work", function() {
    var rt = PYRET_CPS.makeRuntime();
    testNum.test(rt);
  });
});
</script>

<script>
var testList = testWithLib('list1.arr', (function(RUNTIME, NAMESPACE, $K) {
            try {
              var check_DASH_brand451301 = NAMESPACE.get('check-brand');
var Function445829 = NAMESPACE.get('Function');
var brander445834 = NAMESPACE.get('brander');

              var RESULT;
              (function() {
                var k = RUNTIME.makeFunction(function(RESULT) {
                    var namespace = RUNTIME.getField(RESULT, 'namespace');
                    var value = RUNTIME.getField(RESULT, 'value');
                    // TODO(joe): Relying on the representation here to get off
                    // the ground, via the pyretToJSDict endpoint.  Need to codify
                    // namespaces and their interaction with runtime precisely
                    var EXPORT_NAMESPACE = Namespace(RUNTIME.pyretToJSDict(namespace));
                    $K.success(RUNTIME.makeNormalResult(value, EXPORT_NAMESPACE));
                  });
                var f = RUNTIME.makeFunction(function(ERR) {
                    $K.failure(RUNTIME.makeFailResult(ERR));
                  });
                (function() { return RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app(RUNTIME.makeObject({ "value": nothing541901,"namespace": RUNTIME.makeObject({ "builtins": builtins445839,"List435384": List4353842796047,"List-mixins435385": List_DASH_mixins4353852796052,"empty_base435389": empty_base4353892796057,"empty435387": empty4353872796062,"mixin435386": mixin4353862796067,"is-empty": is_DASH_empty691580,"empty": empty691585,"link_base435393": link_base4353932796080,"link435392": link4353922796085,"is-link": is_DASH_link691600,"link": link691605,"List": List691610,"list": list445824,"checkers": checkers439466 }) })) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((list445824 = RUNTIME.makeObject({ "link": link691605,"empty": empty691585 }))) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((List691610 = RUNTIME.getField(List4353842796047, 'test'))) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((link691605 = RUNTIME.makeFunction(function(first4353944353962796746,rest4353954353972796747) {
 return (function(){
 var first4353942796750 = first4353944353962796746;;
var rest4353952796757 = RUNTIME.makeFunction(function(specimen4353982796759) {
 return (function(){
 return check_DASH_brand451301.app(List691610,specimen4353982796759,(function() { throw new Error('Not yet implemented s_str') })()); 
})() 
 }).app(rest4353954353972796747);;
return (function(){
 var mixin4353902796804 = (function() { throw new Error('Not yet implemented s_if_else') })();;
return RUNTIME.getField(List4353842796047, 'brand').app(RUNTIME.getField(link4353922796085, 'brand').app(RUNTIME.getField(mixin4353902796804, 'brand').app(RUNTIME.getField(mixin4353902796804, 'extend').app((function() { throw new Error('Not yet implemented s_extend') })())))); 
})(); 
})() 
 }))) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((is_DASH_link691600 = RUNTIME.getField(link4353922796085, 'test'))) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((link4353922796085 = brander445834.app())) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((link_base4353932796080 = RUNTIME.makeObject({ "_torepr": (function() { throw new Error('Not yet implemented s_method') })(),"_equals": (function() { throw new Error('Not yet implemented s_method') })(),"_match": (function() { throw new Error('Not yet implemented s_method') })(),"length": (function() { throw new Error('Not yet implemented s_method') })() }))) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((empty691585 = RUNTIME.getField(List4353842796047, 'brand').app(RUNTIME.getField(empty4353872796062, 'brand').app(RUNTIME.getField(mixin4353862796067, 'brand').app(RUNTIME.getField(mixin4353862796067, 'extend').app(empty_base4353892796057)))))) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((is_DASH_empty691580 = RUNTIME.getField(empty4353872796062, 'test'))) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((mixin4353862796067 = (function() { throw new Error('Not yet implemented s_if_else') })())) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((empty4353872796062 = brander445834.app())) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((empty_base4353892796057 = RUNTIME.makeObject({ "_torepr": (function() { throw new Error('Not yet implemented s_method') })(),"_equals": (function() { throw new Error('Not yet implemented s_method') })(),"_match": (function() { throw new Error('Not yet implemented s_method') })(),"length": (function() { throw new Error('Not yet implemented s_method') })() }))) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((List_DASH_mixins4353852796052 = RUNTIME.getField(builtins445839, 'Eq'))) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((List4353842796047 = brander445834.app())) 
 }).app($k440051) 
 }).app(RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app((builtins445839 = RUNTIME.makeObject({  }))) 
 }).app($k440051) 
 }).app($k440051))))))))))))))) 
 })})().app(k);
              })();
            } catch(e) {
              $K.failure(RUNTIME.makeFailResult(e));
            }
          }), (function(RUNTIME, NAMESPACE, $K) {
            try {
              var list445824 = NAMESPACE.get('list');

              var RESULT;
              (function() {
                var k = RUNTIME.makeFunction(function(RESULT) {
                    var namespace = RUNTIME.getField(RESULT, 'namespace');
                    var value = RUNTIME.getField(RESULT, 'value');
                    // TODO(joe): Relying on the representation here to get off
                    // the ground, via the pyretToJSDict endpoint.  Need to codify
                    // namespaces and their interaction with runtime precisely
                    var EXPORT_NAMESPACE = Namespace(RUNTIME.pyretToJSDict(namespace));
                    $K.success(RUNTIME.makeNormalResult(value, EXPORT_NAMESPACE));
                  });
                var f = RUNTIME.makeFunction(function(ERR) {
                    $K.failure(RUNTIME.makeFailResult(ERR));
                  });
                (function() { return RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return RUNTIME.makeFunction(function($k440051) {
 return $k440051.app(RUNTIME.makeObject({ "value": RUNTIME.getField(RUNTIME.getField(list445824, 'empty'), 'length').app(),"namespace": RUNTIME.makeObject({  }) })) 
 }).app($k440051) 
 }).app($k440051) 
 })})().app(k);
              })();
            } catch(e) {
              $K.failure(RUNTIME.makeFailResult(e));
            }
          }), {"expected-out":"0","expected-err":""}, true);

describe("list1.arr", function() {
  it("should work", function() {
    var rt = PYRET_CPS.makeRuntime();
    testList.test(rt);
  });
});
</script>
